<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Dine Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/Dine" class="dashAnchor"></a>
    <a title="Dine Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">MyCheckDine Docs</a> (87% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">MyCheckDine Reference</a>
        <img id="carat" src="../img/carat.png" />
        Dine Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/Dine.html">Dine</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Item.html">Item</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Order.html">Order</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/OrderPoller.html">OrderPoller</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/Status.html">Status</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/OrderPollerDelegate.html">OrderPollerDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/Bill.html">Bill</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PaymentDetails.html">PaymentDetails</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Settings.html">Settings</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TaxSettings.html">TaxSettings</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/UserSummary.html">UserSummary</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Dine</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">Dine</span></code></pre>

                </div>
              </div>
            <p>Dine is a singleton That encapsulates the MyCheck dine in proccess: from opening a table , through getting the order details and reordering items to paying for the order.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZvC11MyCheckDine4Dine6sharedS0_"></a>
                    <a name="//apple_ref/swift/Variable/shared" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZvC11MyCheckDine4Dine6sharedS0_">shared</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This property points to the singleton object. It should be used for calling all the functions in the class.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="k">var</span> <span class="nv">shared</span><span class="p">:</span> <span class="kt">Dine</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC11MyCheckDine4Dine6pollerCS_11OrderPoller"></a>
                    <a name="//apple_ref/swift/Property/poller" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC11MyCheckDine4Dine6pollerCS_11OrderPoller">poller</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>When activated this object polls the MyCheck server in order to fetch order updates. Call The startPolling function and set the delegate in order to receive updates. You should generally start useing the poller  when a 4 digit code is created until the order is closed or canceled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n">open</span> <span class="k">var</span> <span class="nv">poller</span> <span class="o">=</span> <span class="kt"><a href="../Classes/OrderPoller.html">OrderPoller</a></span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC11MyCheckDine4Dine12generateCodeFT7hotelIdGSqSS_12restaurantIdSS15displayDelegateGSqP11MyCheckCore29DisplayViewControllerDelegate__18applePayControllerGSqPS1_18ApplePayController__7successFSST_4failGSqFCSo7NSErrorT___T_"></a>
                    <a name="//apple_ref/swift/Method/generateCode(hotelId:restaurantId:displayDelegate:applePayController:success:fail:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC11MyCheckDine4Dine12generateCodeFT7hotelIdGSqSS_12restaurantIdSS15displayDelegateGSqP11MyCheckCore29DisplayViewControllerDelegate__18applePayControllerGSqPS1_18ApplePayController__7successFSST_4failGSqFCSo7NSErrorT___T_">generateCode(hotelId:restaurantId:displayDelegate:applePayController:success:fail:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The code generated by the MyCheck server is valid for a limited time, for a specific user in a specific location. The server returns a 4 digit code to the recipient. This code, when entered into the POS enables MyCheck to sync the client with his order on the POS and can start receiving order updates and perform actions on it. When Apple Pay is the default payment method, a pending payment Apple Pay token must be created. In order to enable this functionality you MUST set the displayDelegate and ApplePayController parameters</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n">open</span> <span class="kd">func</span> <span class="nf">generateCode</span><span class="p">(</span><span class="nv">hotelId</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="p">,</span> <span class="nv">restaurantId</span><span class="p">:</span> <span class="kt">String</span> <span class="p">,</span><span class="nv">displayDelegate</span><span class="p">:</span> <span class="kt">DisplayViewControllerDelegate</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">applePayController</span><span class="p">:</span><span class="kt">ApplePayController</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">success</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">((</span><span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">,</span> <span class="nv">fail</span><span class="p">:</span> <span class="p">((</span><span class="kt">NSError</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span> <span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>hotelId</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The Id of the hotel the venue belongs to. [Optional]</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>restaurantId</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The restaurants Id.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>displayDelegate</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A delegate method that will call functions in order to display and remove view controllers. When using Apple Pay the parameter must be set or else an error will be returned. This is because the user must use touch Id in order to approve the future payment.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>applePayController</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Enables the use of Apple Pay. you can equire one from the Wallet singleton. When using Apple Pay the parameter must be set or else an error will be returned.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>success</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A block that is called if the call complete successfully</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>fail</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Called when the function fails for any reason</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC11MyCheckDine4Dine8getOrderFT7successGSqFGSqCS_5Order_T__4failGSqFCSo7NSErrorT___T_"></a>
                    <a name="//apple_ref/swift/Method/getOrder(success:fail:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC11MyCheckDine4Dine8getOrderFT7successGSqFGSqCS_5Order_T__4failGSqFCSo7NSErrorT___T_">getOrder(success:fail:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the updated order details.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">getOrder</span><span class="p">(</span> <span class="nv">success</span><span class="p">:</span> <span class="p">((</span><span class="kt"><a href="../Classes/Order.html">Order</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span> <span class="p">,</span> <span class="nv">fail</span><span class="p">:</span> <span class="p">((</span><span class="kt">NSError</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span> <span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>success</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A block that is called if the call complete successfully. If the order returne is nil it means their is no open order.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>fail</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Called when the function fails for any reason</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC11MyCheckDine4Dine11makePaymentFT14paymentDetailsVS_14PaymentDetails15displayDelegateGSqP11MyCheckCore29DisplayViewControllerDelegate__7successFT_T_4failFCSo7NSErrorT__T_"></a>
                    <a name="//apple_ref/swift/Method/makePayment(paymentDetails:displayDelegate:success:fail:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC11MyCheckDine4Dine11makePaymentFT14paymentDetailsVS_14PaymentDetails15displayDelegateGSqP11MyCheckCore29DisplayViewControllerDelegate__7successFT_T_4failFCSo7NSErrorT__T_">makePayment(paymentDetails:displayDelegate:success:fail:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Make a payment for an order</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">makePayment</span><span class="p">(</span><span class="nv">paymentDetails</span><span class="p">:</span> <span class="kt"><a href="../Structs/PaymentDetails.html">PaymentDetails</a></span> <span class="p">,</span> <span class="nv">displayDelegate</span><span class="p">:</span> <span class="kt">DisplayViewControllerDelegate</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span><span class="nv">success</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(()</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">,</span> <span class="nv">fail</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">((</span><span class="kt">NSError</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">))</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>request</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The details of the payment that should be charged</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>paymentToken</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The payment method token that should be used in order to charge the user.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>displayDelegate</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A delegate method that will show payment method token creation UI. This must be set only when using Apple Pay.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>success</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A block that is called if the call complete successfully</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>fail</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Called when the function fails for any reason</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC11MyCheckDine4Dine12reorderItemsFT5itemsGSaT6amountSi4itemCS_4Item__7successGSqFT_T__4failGSqFCSo7NSErrorT___T_"></a>
                    <a name="//apple_ref/swift/Method/reorderItems(items:success:fail:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC11MyCheckDine4Dine12reorderItemsFT5itemsGSaT6amountSi4itemCS_4Item__7successGSqFT_T__4failGSqFCSo7NSErrorT___T_">reorderItems(items:success:fail:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Place an order to the POS. The items sent will be reordered and served to the user. This will only succeed if their is an open order.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">reorderItems</span><span class="p">(</span><span class="nv">items</span><span class="p">:</span> <span class="p">[(</span><span class="nv">amount</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">,</span> <span class="nv">item</span><span class="p">:</span> <span class="kt"><a href="../Classes/Item.html">Item</a></span><span class="p">)]</span> <span class="p">,</span> <span class="nv">success</span><span class="p">:</span> <span class="p">(()</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span> <span class="p">,</span> <span class="nv">fail</span><span class="p">:</span> <span class="p">((</span><span class="kt">NSError</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span> <span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>items</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An array of tuples where the first parameter is an Int that represents the amount of ‘item’ to order and the second parameter is the item to reorder.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>success</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A block that is called if the call complete successfully</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>fail</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Called when the function fails for any reason</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="http://www.mycheck.io/" target="_blank" rel="external">elad schiller</a>. All rights reserved. (Last updated: 2017-07-13)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
